---
// No props needed for this component
---

<nav class="navbar z-[1000]">
  <!-- Desktop Navigation -->
  <div class="navbar-desktop">
    <div class="liquidGlass-wrapper nav-glass">
      <div class="liquidGlass-effect"></div>
      <div class="liquidGlass-tint"></div>
      <div class="liquidGlass-shine"></div>
      <div class="liquidGlass-content">
        <div class="navbar-links">
          <a href="#home" class="smooth-scroll">Inicio</a>
          <a href="#galeria" class="smooth-scroll">Galería</a>
          <a href="#amenidades" class="smooth-scroll">Amenidades</a>
          <a href="#mapa" class="smooth-scroll">Mapa</a>
          <a href="#desarrollador" class="smooth-scroll">Desarrollador</a>
          <a href="#contacto" class="navbar-contact smooth-scroll">Contacto</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Mobile Navigation -->
  <div class="navbar-mobile">
    <div class="liquidGlass-wrapper nav-glass mobile-nav-glass">
      <div class="liquidGlass-effect"></div>
      <div class="liquidGlass-tint"></div>
      <div class="liquidGlass-shine"></div>
      <div class="liquidGlass-content mobile-nav-content">
        <div class="navbar-brand">
          <a href="#home" class="smooth-scroll">Inicio</a>
        </div>
        <button class="hamburger-btn" id="hamburger-btn">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </div>
  </div>
</nav>

<!-- Mobile Fullscreen Menu -->
<div class="mobile-menu" id="mobile-menu">
  <div class="liquidGlass-wrapper mobile-menu-glass">
    <div class="liquidGlass-effect"></div>
    <div class="liquidGlass-tint"></div>
    <div class="liquidGlass-shine"></div>
    <div class="liquidGlass-content mobile-menu-content">
      <div class="mobile-menu-header">
        <button class="close-btn" id="close-btn">Cerrar</button>
      </div>
      <div class="mobile-menu-links">
        <a href="#galeria" class="mobile-link smooth-scroll">Galería</a>
        <a href="#amenidades" class="mobile-link smooth-scroll">Amenidades</a>
        <a href="#mapa" class="mobile-link smooth-scroll">Mapa</a>
        <a href="#desarrollador" class="mobile-link smooth-scroll"
          >Desarrollador</a
        >
        <a href="#contacto" class="mobile-link navbar-contact smooth-scroll"
          >Contacto</a
        >
      </div>
    </div>
  </div>
</div>

<svg style="display: none">
  <filter
    id="glass-distortion"
    x="0%"
    y="0%"
    width="100%"
    height="100%"
    filterUnits="objectBoundingBox"
  >
    <feTurbulence
      type="fractalNoise"
      baseFrequency="0.01 0.01"
      numOctaves="1"
      seed="5"
      result="turbulence"></feTurbulence>
    <feGaussianBlur in="turbulence" stdDeviation="3" result="softMap"
    ></feGaussianBlur>
    <feDisplacementMap
      in="SourceGraphic"
      in2="softMap"
      scale="50"
      xChannelSelector="R"
      yChannelSelector="G"></feDisplacementMap>
  </filter>
</svg>

<style>
  .navbar {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    width: 90%;
    max-width: 800px;
  }

  /* Advanced Glassmorphism Styles */
  .liquidGlass-wrapper {
    position: relative;
    border-radius: 50px;
    overflow: hidden;
  }

  .liquidGlass-effect {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    /* filter: url(#glass-distortion); */ /* Removed for performance and to fix flash */
  }

  .liquidGlass-tint {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.1) 0%,
      rgba(255, 255, 255, 0.05) 50%,
      rgba(0, 0, 0, 0.1) 100%
    );
  }

  .liquidGlass-shine {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.2) 0%,
      transparent 30%,
      transparent 70%,
      rgba(255, 255, 255, 0.1) 100%
    );
    opacity: 0.6;
  }

  .liquidGlass-content {
    position: relative;
    z-index: 1;
    padding: 12px 24px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .nav-glass {
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }

  .navbar-desktop {
    display: flex;
  }

  .navbar-mobile {
    display: none;
  }

  .mobile-nav-glass {
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }

  .mobile-nav-content {
    padding: 8px 16px;
  }

  .navbar-brand a {
    font-family: var(--font-family-primary);
    font-weight: 600;
    font-size: 1.2rem;
    color: white;
    text-decoration: none;
    transition: opacity 0.3s ease;
  }

  .navbar-brand a:hover {
    opacity: 0.8;
  }

  .navbar-links {
    display: flex;
    gap: 2rem;
    align-items: center;
  }

  .navbar-links a {
    font-family: var(--font-family-primary);
    font-weight: 400;
    font-size: 0.95rem;
    color: white;
    text-decoration: none;
    transition: all 0.3s ease;
    padding: 8px 16px;
    border-radius: 25px;
    position: relative;
  }

  .navbar-links a:hover {
    opacity: 0.8;
    background: rgba(255, 255, 255, 0.15);
    transform: translateY(-1px);
  }

  .navbar-contact {
    background: rgba(255, 255, 255, 0.25) !important;
    font-weight: 500 !important;
  }

  .navbar-contact:hover {
    background: rgba(255, 255, 255, 0.35) !important;
  }

  .hamburger-btn {
    display: flex;
    flex-direction: column;
    gap: 4px;
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 8px;
    transition: transform 0.3s ease;
  }

  .hamburger-btn:hover {
    transform: scale(1.1);
  }

  .hamburger-btn span {
    width: 24px;
    height: 2px;
    background: white;
    transition: all 0.3s ease;
  }

  /* Mobile Menu Styles */
  .mobile-menu {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    height: 100dvh; /* For mobile browsers */
    opacity: 0;
    visibility: hidden;
    transition:
      opacity 0.4s ease,
      visibility 0s linear 0.4s;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .mobile-menu.active {
    opacity: 1;
    visibility: visible;
    transition:
      opacity 0.4s ease,
      visibility 0s linear 0s;
  }

  .mobile-menu-glass {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
    border-radius: 0;
    overflow: hidden;
  }

  .mobile-menu-glass .liquidGlass-effect {
    background: rgba(10, 10, 10, 0.9);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
  }

  .mobile-menu-glass .liquidGlass-tint,
  .mobile-menu-glass .liquidGlass-shine {
    display: none;
  }

  .mobile-menu-content {
    position: relative;
    z-index: 1;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 0;
  }

  .mobile-menu-header {
    position: absolute;
    top: 30px;
    right: 30px;
  }

  .close-btn {
    background: transparent;
    border: 2px solid white;
    color: white;
    padding: 12px 24px;
    border-radius: 25px;
    font-family: var(--font-family-primary);
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .close-btn:hover {
    background: white;
    color: black;
    transform: scale(1.05);
  }

  .mobile-menu-links {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    text-align: center;
  }

  .mobile-link {
    font-family: var(--font-family-primary);
    font-size: 2rem;
    font-weight: 400;
    color: white;
    text-decoration: none;
    transition: all 0.3s ease;
    padding: 16px 32px;
    border-radius: 25px;
    position: relative;
  }

  .mobile-link:hover {
    opacity: 0.8;
    background: rgba(255, 255, 255, 0.15);
    transform: translateY(-2px);
  }

  .mobile-link.navbar-contact {
    background: rgba(255, 255, 255, 0.25);
    font-weight: 500;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }

  /* Responsive breakpoints */
  @media (max-width: 1024px) {
    .navbar-desktop {
      display: none;
    }

    .navbar-mobile {
      display: flex;
      justify-content: center;
    }

    .navbar {
      width: 95%;
      max-width: none;
    }

    .mobile-nav-content {
      justify-content: center;
      gap: 1rem;
    }
  }

  @media (max-width: 768px) {
    .navbar {
      width: 100%;
      left: 0;
      transform: none;
      max-width: none;
      top: 15px;
    }

    .mobile-link {
      font-size: 1.5rem;
    }

    .mobile-menu-header {
      top: 20px;
      right: 20px;
    }
  }

  @media (max-width: 480px) {
    .navbar {
      width: 100%;
      left: 0;
      transform: none;
      max-width: none;
    }

    .navbar-brand a {
      font-size: 1rem;
    }

    .mobile-link {
      font-size: 1.2rem;
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const hamburgerBtn = document.getElementById("hamburger-btn");
    const mobileMenu = document.getElementById("mobile-menu");
    const closeBtn = document.getElementById("close-btn");
    const mobileLinks = document.querySelectorAll(".mobile-link");
    const allSmoothScrollLinks = document.querySelectorAll(".smooth-scroll");

    function openMenu() {
      mobileMenu?.classList.add("active");
      document.body.style.overflow = "hidden";
    }

    function closeMenu() {
      mobileMenu?.classList.remove("active");
      document.body.style.overflow = "auto";
    }

    hamburgerBtn?.addEventListener("click", openMenu);
    closeBtn?.addEventListener("click", closeMenu);

    // Close menu when clicking on a link
    mobileLinks.forEach((link) => {
      link.addEventListener("click", closeMenu);
    });

    // Close menu when clicking outside
    mobileMenu?.addEventListener("click", function (e) {
      if (e.target === mobileMenu) {
        closeMenu();
      }
    });

    // Smooth scrolling - let CSS handle the smoothness
    allSmoothScrollLinks.forEach((link) => {
      link.addEventListener("click", function (e) {
        const targetId = link.getAttribute("href");
        if (targetId) {
          const targetElement = document.querySelector(targetId);

          if (targetElement) {
            // Close mobile menu if open
            closeMenu();

            // Let the browser handle smooth scrolling with CSS
            // No need to prevent default, just close menu
          }
        }
      });
    });
  });
</script>
